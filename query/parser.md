# 编译原理基础概念

编译原理中，词法分析，语法分析，语义分析，是编译器的各个阶段，用于将源代码转化成可执行代码的中间表示

* 词法分析（Lexical
  Analysis）：将源代码里面的各个字符串进行分门别类，给每个归好类的字符串赋予一个标记（token），转化成lexemes序列的过程，token是语法上有意义的最小代码单元，如关键字，标识符，运算符，常量等,而token<
  keyword,int>这个就是一个对照表
  > 表达式"2+3"经过词法分析之后，就变成了"2","3","+"

* 语法分析（Syntax Analysis）：根据第一步获得的token集合，根据给定的语法规则，构建<u>语法树</u>
  ，或者分析语法结构的过程，他验证词法分析生成的token是否符合语法条件
  > 对于表达式"2+3",语法分析会根据语法条件确认他是一个<u>二元表达式</u>，左操作数是2,右操作数是3,运算符是+

* 语义分析（Semantic Analysis）：对语法正确的代码进行语义检查和解释，确保程序的语义是正确的，并生成代码执行所需要的中间表示，语义分析可以进行类型检查，作用域分析等
  > “2+3”，语义分析会检查操作数的类型是否匹配，是否允许在这个上下文中执行加法操作，以及计算出结果是5

# 编译原理示例分析

~~~c
int factorial(int n) {
    if (n <= 1)
        return 1;
    else
        return n * factorial(n - 1);
}

int main() {
    int num = 5;
    int result = factorial(num);
    return 0;
}
~~~

## 词法分析

识别代码中的token，把代码中的

- 关键字：int,if,else,return
- 标识符：result,factorial,main,num(变量和函数名都是标识符)
- 运算符：=，-，<=,*,
- 分隔符: ,;()

将这些token组成词法单元，基于代码的词法结构
例如int,factorial,(int n),代码的语法序列

## 语法分析

* 根据语法规则，构建语法树，验证代码的正确性，
* 生成抽象语法树Abstract Synact tree ,表示该代码片段的结构，函数定义，条件语句，返回语句，
    * 函数定义：factorial函数有一个参数n，函数内部有if else，和递归调用
    * main函数，空参数列表，函数体内有变量声明，函数调用

## 语义分析

* n<=1表达式返回是否位bool
* retuen返回类型是否匹配
* factorial参数类型和数量是否正确和浮点数

同时还会生成一系列的符号表（类型，变量定义所在的行，变量的值，该变量的所有元素）


# 其他例子
position=a+b*2
<u>词法分析之后</u>:解析出来一系列的token
>- position-><ID,1>,ID说明他是一个identifier,标识符
>- =-><ASSIGN,>, "="是一个赋值的token,
>- a-><ID,2>,a也是一个identifier
>- + -><PLUS,> "+"被解析出来的对应的标识
>- b -><ID,3>
>- * -><mul,>
>- 2-><NUM,4>
>- 


语法分析
